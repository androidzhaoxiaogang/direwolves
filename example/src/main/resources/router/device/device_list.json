{
  "name": "device_list",
  "method": "GET",
  "path": "/devices",
  "scope": "device:read",
  "endpoints": [
    {
      "type": "http",
      "name": "devices",
      "service": "device",
      "method": "GET",
      "path": "/devices"
    }
  ],
  "url_arg": [
    {
      "name": "start",
      "default_value": 0,
      "rules": {
        "integer": true,
        "min": 0,
        "max": 100
      }
    },
    {
      "name": "limit",
      "default_value": 10,
      "rules": {
        "integer": true,
        "min": 0,
        "max": 100
      }
    }
  ],
  "request_transformer": [
    {
      "name": "devices",
      "query.add": [
        "userId:$user.userId"
      ],
      "header.add" : [
        "x-auth-userId:$user.userId",
        "x-auth-username:$user.username",
        "x-auth-companyCode:$user.companyCode"
      ]
    }
  ],
  "authentication" : true,
  "appkey" : true
}